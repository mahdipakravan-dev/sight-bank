import { useTranslation } from "react-i18next";
import { WaveBackground } from "../hero/wave-background";
import s from "./testimonial.module.scss";
import { useMemo } from "react";

const commentsArray = [
  {
    name: "Ø±Ø­Ù…ØªÛŒ",
    platform: "Ú©Ø§ÙÙ‡ Ø¨Ø§Ø²Ø§Ø±",
    description:
      "Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø®ÙˆØ¨ÛŒÙ‡ Ø§Ú¯Ø± Ø­Ø³Ø§Ø¨ Ù‚Ø±Ø¶ Ø§Ù„Ø­Ø³Ù†Ù‡ Ø¨Ø§Ø² Ú©Ù†ÛŒÙ† Ùˆ Ø¨Ø§Ù„Ø§ 2 Ù…Ù„ÛŒÙˆÙ† ØªÙˆÙ…Ø§Ù† ØªÙˆ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ø´Ù‡ Ø®ÛŒÙ„ÛŒ Ø±Ø§Ø­Øª Ø§Ù…ØªÛŒØ§Ø² Ù…ÛŒØ¯Ù‡ Ø¨Ù‡ØªÙˆÙ† Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª ÙˆØ§Ù… ÙÙ‚Ø· Ø¨Ø§ÛŒØ¯ Ù¾Ù„Ù‡ Ù¾Ù„Ù‡ Ø¨Ú¯ÛŒØ±ÛŒÙ† ØªØ§Ø²Ù‡ Ø¨Ø±Ø¹Ú©Ø³ Ø®ÛŒÙ„ÛŒ Ø§Ø² Ø¨Ø§Ù†Ú© Ù‡Ø§ Ú©Ù‡ ØªØ§ 50 Ù…ÛŒØ¯Ù‡ Ø§ÛŒÙ† ØªØ§ 100 Ø¨Ø§Ø² Ù…ÛŒÚ©Ù†Ù‡",
    star: 5,
  },
  {
    name: "annudy",
    platform: "Ú©Ø§ÙÙ‡ Ø¨Ø§Ø²Ø§Ø±",
    description:
      "Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¨Ø³ÛŒØ§Ø± Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ ðŸ‘ðŸ» ÙÙ‚Ø· Ù„Ø·ÙØ§ Ø¯Ø± Ù‚Ø³Ù…Øª Ù‚Ø¨Ø¶ØŒ Ø¨Ø®Ø´ Ù…Ø¯ÛŒØ±ÛŒØª Ù‚Ø¨Ø¶ Ù‡Ø§ Ø±Ùˆ Ù‡Ù… Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯.",
    star: 4,
  },
  {
    name: "Ø¹Ù„ÛŒ",
    platform: "Ú©Ø§ÙÙ‡ Ø¨Ø§Ø²Ø§Ø±",
    description: "Ú©Ø§Ø± Ú©Ø±Ø¯Ù† Ø¨Ø§Ù‡Ø§Ø´ Ø±Ø§Ø­ØªÙ‡ Ùˆ Ø±Ø§Ø­Øª Ù…ÛŒØªÙˆÙ†ÛŒ ØªØ³Ù‡ÛŒÙ„Ø§Øª Ø¨Ú¯ÛŒØ±ÛŒ",
    star: 5,
  },
  {
    name: "Ú©Ø§Ø±Ø¨Ø±",
    platform: "Ú©Ø§ÙÙ‡ Ø¨Ø§Ø²Ø§Ø±",
    description:
      "Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø®ÙˆØ¨ÛŒÙ‡ Ùˆ Ø®Ø¯Ù…Ø§ØªØ´ Ø¨Ù‡ Ø®ÙˆØ¨ÛŒ Ú©Ø§Ø± Ù…ÛŒÚ©Ù†Ù‡. Ø¯ÙˆØ³ØªØ§Ù† ÙˆØ§Ù… ØªÙ…Ø§Ù… Ø¨Ø§Ù†Ú© Ù‡Ø§ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ø§Ù…ØªÛŒØ§Ø² Ùˆ Ø³Ù¾Ø±Ø¯Ù‡ Ø´Ù…Ø§ Ø¯Ø± Ø§ÙˆÙ† Ø¨Ø§Ù†Ú© Ù‡Ø³Øª Ù†Ù‡ Ø§ÛŒÙ† Ú©Ù‡ Ø´Ù…Ø§ ØªØ§ Ø§ÙØªØªØ§Ø­ Ø­Ø³Ø§Ø¨ Ù…ÛŒÚ©Ù†ÛŒ ØªÙˆÙ‚Ø¹ ÙˆØ§Ù… Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒ",
    star: 4,
  },
  {
    name: "Ø¹Ù„ÛŒ Ù¾ÙˆØ±Ù†Ù‡Ø§ÙˆÙ†Ø¯ÛŒ",
    platform: "Ú©Ø§ÙÙ‡ Ø¨Ø§Ø²Ø§Ø±",
    description: "Ù‡Ù…ÛŒØ´Ù‡ Ø¹Ø§Ù„ÛŒ",
    star: 5,
  },
  {
    name: "Ù…Ø­Ù…Ø¯",
    platform: "Ú©Ø§ÙÙ‡ Ø¨Ø§Ø²Ø§Ø±",
    description:
      "Ø³Ù„Ø§Ù… Ù„Ø·ÙØ§ Ø§Ù…Ú©Ø§Ù† Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù‚Ø¨ÙˆØ¶ Ø±Ùˆ Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ ÙØ±Ø§Ù‡Ù… Ú©Ù†ÛŒØ¯ ØªØ§ Ù‡Ø± Ø¨Ø§Ø± Ù…Ø¬Ø¨ÙˆØ± Ø¨Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ù…Ø´Ø®ØµØ§Øª Ù‚Ø¨Ø¶ Ù†Ø¨Ø§Ø´ÛŒÙ… Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨ØªÙˆÙ†ÛŒÙ… Ø¨Ø§ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù‚Ø¨Ø¶ Ø±Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ù†ÛŒÙ… Ùˆ Ù†ÛŒØ² Ø§Ù…Ú©Ø§Ù† Ø°Ø®ÛŒØ±Ù‡ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù…ÙˆÙ‚Ø¹ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡ ÙØ±Ø§Ù‡Ù… Ø´ÙˆØ¯ Ø¨Ø§ ØªØ´Ú©Ø±",
    star: 3,
  },
  {
    name: "ØºÙ„ Ù…Ø±Ø§Ø¯",
    platform: "Ù…Ø§ÛŒÚ©Øª",
    description:
      "Ù…Ù…Ù†ÙˆÙ† Ú©Ù‡ Ø²ÙˆØ¯ Ø¨Ù‡ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø±Ø¯Ù… Ø±Ø³ÛŒÚ¯ÛŒ Ù…ÛŒÚ©Ù†ÛŒØ¯ØŒ Ø¨Ø¹Ø¯ Ø§Ø­Ø±Ø§Ø²ØŒ 10 Ø³Ø§Ø¹Øª Ø¨Ø¹Ø¯Ø´ ØµØ¯ÙˆØ± Ú©Ø§Ø±Øª Ø±Ùˆ Ø²Ø¯Ù† Ùˆ ØªØ­ÙˆÛŒÙ„ Ù¾Ø³Øª Ø¯Ø§Ø¯Ù‡ Ø´Ø¯ØŒ Ø³Ø±ÛŒØ¹ Ùˆ Ø¨Ø¯ÙˆÙ† Ø¯Ø±Ø¯Ø³Ø± Ø¨ÙˆØ¯ØŒ ÙØ±Ø§ÛŒÙ†Ø¯ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø­Ø³Ø§Ø¨ Ùˆ Ø§Ø­Ø±Ø§Ø² Ù‡Ù… Ø®ÙˆØ¨ Ø¨ÙˆØ¯.",
    star: 5,
  },
  {
    name: "Ù…Ø­Ù…Ø¯",
    platform: "Ù…Ø§ÛŒÚ©Øª",
    description:
      "Ù„Ø·ÙØ§ Ø§Ù…Ú©Ø§Ù† Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Øª Ø¨Ø§Ù†Ú©ÛŒ Ø³Ø§ÛŒØ± Ø¨Ø§Ù†Ú© Ù‡Ø§ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù‚Ø³Ø§Ø· ØªØ³Ù‡ÛŒÙ„Ø§Øª ÙØ±Ø§Ù‡Ù… Ù†Ù…Ø§ÛŒÛŒØ¯ ØªØ§ Ù…Ø³ØªÙ‚ÛŒÙ… Ø§Ø² Ú©Ø§Ø±Øª Ø¨Ø§Ù†Ú© Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ø§Ù‚Ø³Ø§Ø· Ø®ÙˆØ¯Ù…ÙˆÙ† Ø±Ø§ Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ù†ÛŒÙ…. Ù…Ø«Ù„ Ø¨Ø§Ù†Ú© Ù…Ù‡Ø± Ø§ÛŒØ±Ø§Ù† Ú©Ù‡ Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù† Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª.",
    star: 3,
  },
  {
    name: "Ø­Ø³ÛŒÙ†",
    platform: "Ù…Ø§ÛŒÚ©Øª",
    description: "Ù…Ø±Ø³ÛŒ ØªØ´Ú©Ø± Ø§Ø² Ø¨Ø§Ø¨Øª Ú©Ø§Ø±Øª Ø²ÛŒØ¨Ø§ØªÙˆÙ† Ø¹Ø§Ù„ÛŒ Ø¨ÙˆØ¯.",
    star: 5,
  },
  {
    name: "Hadi",
    platform: "Ù…Ø§ÛŒÚ©Øª",
    description:
      "Ø¨Ø§ Ø³Ù„Ø§Ù… Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø®ÙˆØ¨ÛŒÙ‡ ÙˆÙ„ÛŒ Ø¨Ø§ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§Ù†Ú© Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø¨Ø±ÙˆØ² Ù†ÛŒØ³Øª Ø¨Ø§ÛŒØ¯ Ø¯Ø³ØªÛŒ Ø¨Ø±ÙˆØ² Ú©Ù†ÛŒÙ… ÙˆÙ„ÛŒ Ø§Ú©Ø«Ø± Ø¨Ø§Ù†Ú©Ù‡Ø§ Ø§ÛŒÙ†Ø·ÙˆØ±ÛŒ Ù†ÛŒØ³Øª. Ø¯ÙˆÙ… Ø§ÛŒÙ†Ú©Ù‡ Ø±Ù…Ø² Ù¾ÙˆÛŒØ§ Ø§Ú¯Ù‡ Ù…Ø«Ù„ Ø¨Ø§Ù†Ú© ØªØ¬Ø§Ø±Øª ÛŒØ§ Ù…Ù„Øª Ø®ÙˆØ¯Ø´ Ú©Ù¾ÛŒ Ú©Ù†Ù‡ Ø¹Ø§Ù„ÛŒ Ù…ÛŒØ´Ù‡ØŒ Ù…Ù†ØªØ¸Ø± Ù¾ÛŒØ§Ù…Ú© Ù…ÙˆÙ†Ø¯Ù† Ø¯ÛŒÚ¯Ù‡ Ù‚Ø¯ÛŒÙ…ÛŒ Ø´Ø¯. Ù…Ù…Ù†ÙˆÙ†.",
    star: 4,
  },
  {
    name: "Ø¹Ù„ÛŒ",
    platform: "Ù…Ø§ÛŒÚ©Øª",
    description:
      "ÙˆØ§Ù‚Ø¹Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ø§Ù¾ Ø¨Ø§Ù†Ú©ÛŒÙ‡ØŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø³Ø±ÛŒØ¹ Ùˆ Ø¢Ù†Ù„Ø§ÛŒÙ†ØŒ Ø§Ø±Ø³Ø§Ù„ Ø³Ø±ÛŒØ¹ Ú©Ø§Ø±Øª Ùˆ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÙˆØ¹. Ø§Ú¯Ù‡ ØªØ³Ù‡ÛŒÙ„Ø§Øª Ù…Ø¨Ù„Øº Ú©Ù… Ø±Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†Ù†Ø¯ Ù…Ø«Ù„ ÙˆÛŒÙ¾Ø§Ø¯ØŒ ÙˆØ§Ù‚Ø¹Ø§ Ø¯ÛŒÚ¯Ù‡ Ù¾Ø±ÙÚ©Øª Ù…ÛŒØ´Ù‡. Ø¯Ø± Ú©Ù„ Ø®ÙˆØ¨Ù‡ â¤ï¸â„ï¸",
    star: 5,
  },
  {
    name: "Ú©Ø§ÙˆÙ‡",
    platform: "Ù…Ø§ÛŒÚ©Øª",
    description:
      "Ø¨Ø§ Ø³Ù„Ø§Ù…. ÙˆØ§Ù‚Ø¹Ø§ Ø¯Ø³ØªØªÙˆÙ† Ø¯Ø±Ø¯ Ù†Ú©Ù†Ù‡. Ø®Ø¯Ø§ Ø´Ø§Ù‡Ø¯ ØªÙ…Ø§Ù… Ø¨Ø§Ù†Ú©â€ŒÙ‡Ø§ Ø­Ø³Ø§Ø¨ Ø¯Ø§Ø±Ù… ÙˆÙ„ÛŒ Ø§Ø² Ø§ÛŒÙ† Ø¨Ø§Ù†Ú© Ú©Ø§Ø±Ø¢ÙØ±ÛŒÙ† Ù‡Ø±Ú†ÛŒ ØµÙØ§Øª Ø®ÙˆØ¨ Ø¨Ú¯ÛŒ Ú©Ù… Ú¯ÙØªÛŒ. Ø¯Ù…ØªÙˆÙ† Ú¯Ø±Ù… Ø¨Ø§Ø¨Øª Ù‡Ù…Ù‡ Ú†ÛŒØ². Ø®Ø¯Ø§ Ú©Ù†Ù‡ Ù‡Ù…ÛŒØ´Ù‡ Ø³Ø±Ø¨Ù„Ù†Ø¯ Ø¨Ø§Ø´ÛŒØ¯. Ø¨Ø§Ø²Ù… Ù…Ù…Ù†ÙˆÙ†Ù… âœŒï¸ðŸ’¥ðŸ™",
    star: 3,
  },
];

type CommentProps = {
  comment: {
    name: string;
    platform: string;
    description: string;
    star?: number;
  };
};
export const Testimonial = () => {
  const { t } = useTranslation();

  // Fisher-Yates shuffle
  function shuffleArray<T>(array: T[]): T[] {
    const arr = [...array];
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  // Shuffle only once per mount
  const shuffledComments = useMemo(() => shuffleArray(commentsArray), []);

  const Comment = ({ comment }: CommentProps) => (
    <article className={s["comment"]}>
      <header>
        <div className={s["right"]}>
          <div className={s["avatar"]}>
            <img src="/images/avatar-1.png" alt="Avatar" />
          </div>
          <div className={s["name"]}>
            <span>{comment.name}</span>
            <b>{comment.platform}</b>
          </div>
        </div>
        <div className={s["left"]}>
          <div className={s["stars"]}>
            {Array.from({ length: comment.star || 5 }).map(() => (
              <img src="/images/star.png" alt="" />
            ))}
          </div>
        </div>
      </header>

      <p>{comment.description}</p>
    </article>
  );

  return (
    <section className={s["container"]}>
      <WaveBackground />
      <div className={s["testimonials"]}>
        <div className={s["row-1"]}>
          <div className={s["row-1"]}>
            {shuffledComments.slice(0, 5).map((comment, i) => (
              <Comment comment={comment} key={`r1-${i}`} />
            ))}
          </div>
        </div>
        <div className={s["row-2"]}>
          <div className={s["row-1"]}>
            {shuffledComments.slice(5, 10).map((comment, i) => (
              <Comment comment={comment} key={`r2-${i}`} />
            ))}
          </div>
        </div>
      </div>
      <div className={s["content"]}>
        <h2>{t("testimonials.title")}</h2>
      </div>
    </section>
  );
};
